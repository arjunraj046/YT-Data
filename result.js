const res = [
        {
            "id": "8472695938",
            "jobId": "4e055ed3-a7f3-41c8-b045-7a98b665bba6",
            "startTime": "2023-12-11T08:00:00Z",
            "endTime": "2023-12-12T08:00:00Z",
            "createTime": "2023-12-13T03:42:54.769981Z",
            "downloadUrl": "https://youtubereporting.googleapis.com/v1/media/CONTENT_OWNER/Jgrl-IYF1196ZxijRcZLXQ/jobs/4e055ed3-a7f3-41c8-b045-7a98b665bba6/reports/8472695938?alt=media"
        },
        {
            "id": "8470143565",
            "jobId": "4e055ed3-a7f3-41c8-b045-7a98b665bba6",
            "startTime": "2023-12-10T08:00:00Z",
            "endTime": "2023-12-11T08:00:00Z",
            "createTime": "2023-12-12T11:45:50.273804Z",
            "downloadUrl": "https://youtubereporting.googleapis.com/v1/media/CONTENT_OWNER/Jgrl-IYF1196ZxijRcZLXQ/jobs/4e055ed3-a7f3-41c8-b045-7a98b665bba6/reports/8470143565?alt=media"
        },
        {
            "id": "9596673062",
            "jobId": "4e055ed3-a7f3-41c8-b045-7a98b665bba6",
            "startTime": "2023-12-08T08:00:00Z",
            "endTime": "2023-12-09T08:00:00Z",
            "createTime": "2023-12-12T10:15:21.600566Z",
            "downloadUrl": "https://youtubereporting.googleapis.com/v1/media/CONTENT_OWNER/Jgrl-IYF1196ZxijRcZLXQ/jobs/4e055ed3-a7f3-41c8-b045-7a98b665bba6/reports/9596673062?alt=media"
        },
        {
            "id": "9596262866",
            "jobId": "4e055ed3-a7f3-41c8-b045-7a98b665bba6",
            "startTime": "2023-12-10T08:00:00Z",
            "endTime": "2023-12-11T08:00:00Z",
            "createTime": "2023-12-12T04:22:38.199696Z",
            "downloadUrl": "https://youtubereporting.googleapis.com/v1/media/CONTENT_OWNER/Jgrl-IYF1196ZxijRcZLXQ/jobs/4e055ed3-a7f3-41c8-b045-7a98b665bba6/reports/9596262866?alt=media"
        },
        {
            "id": "8467204623",
            "jobId": "4e055ed3-a7f3-41c8-b045-7a98b665bba6",
            "startTime": "2023-12-09T08:00:00Z",
            "endTime": "2023-12-10T08:00:00Z",
            "createTime": "2023-12-11T14:50:51.598884Z",
            "downloadUrl": "https://youtubereporting.googleapis.com/v1/media/CONTENT_OWNER/Jgrl-IYF1196ZxijRcZLXQ/jobs/4e055ed3-a7f3-41c8-b045-7a98b665bba6/reports/8467204623?alt=media"
        },
        {
            "id": "9592759856",
            "jobId": "4e055ed3-a7f3-41c8-b045-7a98b665bba6",
            "startTime": "2023-12-08T08:00:00Z",
            "endTime": "2023-12-09T08:00:00Z",
            "createTime": "2023-12-11T08:45:40.222300Z",
            "downloadUrl": "https://youtubereporting.googleapis.com/v1/media/CONTENT_OWNER/Jgrl-IYF1196ZxijRcZLXQ/jobs/4e055ed3-a7f3-41c8-b045-7a98b665bba6/reports/9592759856?alt=media"
        },
        {
            "id": "9592789775",
            "jobId": "4e055ed3-a7f3-41c8-b045-7a98b665bba6",
            "startTime": "2023-12-09T08:00:00Z",
            "endTime": "2023-12-10T08:00:00Z",
            "createTime": "2023-12-11T08:36:11.838100Z",
            "downloadUrl": "https://youtubereporting.googleapis.com/v1/media/CONTENT_OWNER/Jgrl-IYF1196ZxijRcZLXQ/jobs/4e055ed3-a7f3-41c8-b045-7a98b665bba6/reports/9592789775?alt=media"
        },
        {
            "id": "9591413259",
            "jobId": "4e055ed3-a7f3-41c8-b045-7a98b665bba6",
            "startTime": "2023-12-09T08:00:00Z",
            "endTime": "2023-12-10T08:00:00Z",
            "createTime": "2023-12-11T02:23:27.613779Z",
            "downloadUrl": "https://youtubereporting.googleapis.com/v1/media/CONTENT_OWNER/Jgrl-IYF1196ZxijRcZLXQ/jobs/4e055ed3-a7f3-41c8-b045-7a98b665bba6/reports/9591413259?alt=media"
        },
        {
            "id": "9589020611",
            "jobId": "4e055ed3-a7f3-41c8-b045-7a98b665bba6",
            "startTime": "2023-11-26T08:00:00Z",
            "endTime": "2023-11-27T08:00:00Z",
            "createTime": "2023-12-10T08:54:37.130544Z",
            "downloadUrl": "https://youtubereporting.googleapis.com/v1/media/CONTENT_OWNER/Jgrl-IYF1196ZxijRcZLXQ/jobs/4e055ed3-a7f3-41c8-b045-7a98b665bba6/reports/9589020611?alt=media"
        },
        {
            "id": "8462397009",
            "jobId": "4e055ed3-a7f3-41c8-b045-7a98b665bba6",
            "startTime": "2023-11-14T08:00:00Z",
            "endTime": "2023-11-15T08:00:00Z",
            "createTime": "2023-12-10T08:54:27.628100Z",
            "downloadUrl": "https://youtubereporting.googleapis.com/v1/media/CONTENT_OWNER/Jgrl-IYF1196ZxijRcZLXQ/jobs/4e055ed3-a7f3-41c8-b045-7a98b665bba6/reports/8462397009?alt=media"
        },
        {
            "id": "9589020057",
            "jobId": "4e055ed3-a7f3-41c8-b045-7a98b665bba6",
            "startTime": "2023-12-05T08:00:00Z",
            "endTime": "2023-12-06T08:00:00Z",
            "createTime": "2023-12-10T08:54:23.773117Z",
            "downloadUrl": "https://youtubereporting.googleapis.com/v1/media/CONTENT_OWNER/Jgrl-IYF1196ZxijRcZLXQ/jobs/4e055ed3-a7f3-41c8-b045-7a98b665bba6/reports/9589020057?alt=media"
        },
        {
            "id": "9589026044",
            "jobId": "4e055ed3-a7f3-41c8-b045-7a98b665bba6",
            "startTime": "2023-12-02T08:00:00Z",
            "endTime": "2023-12-03T08:00:00Z",
            "createTime": "2023-12-10T08:54:20.523572Z",
            "downloadUrl": "https://youtubereporting.googleapis.com/v1/media/CONTENT_OWNER/Jgrl-IYF1196ZxijRcZLXQ/jobs/4e055ed3-a7f3-41c8-b045-7a98b665bba6/reports/9589026044?alt=media"
        },
        {
            "id": "9589025263",
            "jobId": "4e055ed3-a7f3-41c8-b045-7a98b665bba6",
            "startTime": "2023-11-27T08:00:00Z",
            "endTime": "2023-11-28T08:00:00Z",
            "createTime": "2023-12-10T08:53:54.979812Z",
            "downloadUrl": "https://youtubereporting.googleapis.com/v1/media/CONTENT_OWNER/Jgrl-IYF1196ZxijRcZLXQ/jobs/4e055ed3-a7f3-41c8-b045-7a98b665bba6/reports/9589025263?alt=media"
        },
        {
            "id": "9589000053",
            "jobId": "4e055ed3-a7f3-41c8-b045-7a98b665bba6",
            "startTime": "2023-11-21T08:00:00Z",
            "endTime": "2023-11-22T08:00:00Z",
            "createTime": "2023-12-10T08:53:50.064430Z",
            "downloadUrl": "https://youtubereporting.googleapis.com/v1/media/CONTENT_OWNER/Jgrl-IYF1196ZxijRcZLXQ/jobs/4e055ed3-a7f3-41c8-b045-7a98b665bba6/reports/9589000053?alt=media"
        },
        {
            "id": "8462393551",
            "jobId": "4e055ed3-a7f3-41c8-b045-7a98b665bba6",
            "startTime": "2023-11-28T08:00:00Z",
            "endTime": "2023-11-29T08:00:00Z",
            "createTime": "2023-12-10T08:53:39.203286Z",
            "downloadUrl": "https://youtubereporting.googleapis.com/v1/media/CONTENT_OWNER/Jgrl-IYF1196ZxijRcZLXQ/jobs/4e055ed3-a7f3-41c8-b045-7a98b665bba6/reports/8462393551?alt=media"
        },
        {
            "id": "8462406649",
            "jobId": "4e055ed3-a7f3-41c8-b045-7a98b665bba6",
            "startTime": "2023-11-18T08:00:00Z",
            "endTime": "2023-11-19T08:00:00Z",
            "createTime": "2023-12-10T08:53:38.611943Z",
            "downloadUrl": "https://youtubereporting.googleapis.com/v1/media/CONTENT_OWNER/Jgrl-IYF1196ZxijRcZLXQ/jobs/4e055ed3-a7f3-41c8-b045-7a98b665bba6/reports/8462406649?alt=media"
        },
        {
            "id": "9588999716",
            "jobId": "4e055ed3-a7f3-41c8-b045-7a98b665bba6",
            "startTime": "2023-12-03T08:00:00Z",
            "endTime": "2023-12-04T08:00:00Z",
            "createTime": "2023-12-10T08:53:34.791978Z",
            "downloadUrl": "https://youtubereporting.googleapis.com/v1/media/CONTENT_OWNER/Jgrl-IYF1196ZxijRcZLXQ/jobs/4e055ed3-a7f3-41c8-b045-7a98b665bba6/reports/9588999716?alt=media"
        },
        {
            "id": "8462409009",
            "jobId": "4e055ed3-a7f3-41c8-b045-7a98b665bba6",
            "startTime": "2023-11-29T08:00:00Z",
            "endTime": "2023-11-30T08:00:00Z",
            "createTime": "2023-12-10T08:53:33.655410Z",
            "downloadUrl": "https://youtubereporting.googleapis.com/v1/media/CONTENT_OWNER/Jgrl-IYF1196ZxijRcZLXQ/jobs/4e055ed3-a7f3-41c8-b045-7a98b665bba6/reports/8462409009?alt=media"
        },
        {
            "id": "9588999648",
            "jobId": "4e055ed3-a7f3-41c8-b045-7a98b665bba6",
            "startTime": "2023-11-16T08:00:00Z",
            "endTime": "2023-11-17T08:00:00Z",
            "createTime": "2023-12-10T08:53:32.581287Z",
            "downloadUrl": "https://youtubereporting.googleapis.com/v1/media/CONTENT_OWNER/Jgrl-IYF1196ZxijRcZLXQ/jobs/4e055ed3-a7f3-41c8-b045-7a98b665bba6/reports/9588999648?alt=media"
        },
        {
            "id": "9589009652",
            "jobId": "4e055ed3-a7f3-41c8-b045-7a98b665bba6",
            "startTime": "2023-11-09T08:00:00Z",
            "endTime": "2023-11-10T08:00:00Z",
            "createTime": "2023-12-10T08:53:31.995251Z",
            "downloadUrl": "https://youtubereporting.googleapis.com/v1/media/CONTENT_OWNER/Jgrl-IYF1196ZxijRcZLXQ/jobs/4e055ed3-a7f3-41c8-b045-7a98b665bba6/reports/9589009652?alt=media"
        },
        {
            "id": "8462408906",
            "jobId": "4e055ed3-a7f3-41c8-b045-7a98b665bba6",
            "startTime": "2023-12-08T08:00:00Z",
            "endTime": "2023-12-09T08:00:00Z",
            "createTime": "2023-12-10T08:53:27.660554Z",
            "downloadUrl": "https://youtubereporting.googleapis.com/v1/media/CONTENT_OWNER/Jgrl-IYF1196ZxijRcZLXQ/jobs/4e055ed3-a7f3-41c8-b045-7a98b665bba6/reports/8462408906?alt=media"
        },
        {
            "id": "8462408852",
            "jobId": "4e055ed3-a7f3-41c8-b045-7a98b665bba6",
            "startTime": "2023-11-25T08:00:00Z",
            "endTime": "2023-11-26T08:00:00Z",
            "createTime": "2023-12-10T08:53:25.303867Z",
            "downloadUrl": "https://youtubereporting.googleapis.com/v1/media/CONTENT_OWNER/Jgrl-IYF1196ZxijRcZLXQ/jobs/4e055ed3-a7f3-41c8-b045-7a98b665bba6/reports/8462408852?alt=media"
        },
        {
            "id": "8462393260",
            "jobId": "4e055ed3-a7f3-41c8-b045-7a98b665bba6",
            "startTime": "2023-12-06T08:00:00Z",
            "endTime": "2023-12-07T08:00:00Z",
            "createTime": "2023-12-10T08:53:23.611369Z",
            "downloadUrl": "https://youtubereporting.googleapis.com/v1/media/CONTENT_OWNER/Jgrl-IYF1196ZxijRcZLXQ/jobs/4e055ed3-a7f3-41c8-b045-7a98b665bba6/reports/8462393260?alt=media"
        },
        {
            "id": "9588998300",
            "jobId": "4e055ed3-a7f3-41c8-b045-7a98b665bba6",
            "startTime": "2023-11-15T08:00:00Z",
            "endTime": "2023-11-16T08:00:00Z",
            "createTime": "2023-12-10T08:53:21.009437Z",
            "downloadUrl": "https://youtubereporting.googleapis.com/v1/media/CONTENT_OWNER/Jgrl-IYF1196ZxijRcZLXQ/jobs/4e055ed3-a7f3-41c8-b045-7a98b665bba6/reports/9588998300?alt=media"
        },
        {
            "id": "8462401431",
            "jobId": "4e055ed3-a7f3-41c8-b045-7a98b665bba6",
            "startTime": "2023-12-04T08:00:00Z",
            "endTime": "2023-12-05T08:00:00Z",
            "createTime": "2023-12-10T08:53:20.434604Z",
            "downloadUrl": "https://youtubereporting.googleapis.com/v1/media/CONTENT_OWNER/Jgrl-IYF1196ZxijRcZLXQ/jobs/4e055ed3-a7f3-41c8-b045-7a98b665bba6/reports/8462401431?alt=media"
        },
        {
            "id": "8462395405",
            "jobId": "4e055ed3-a7f3-41c8-b045-7a98b665bba6",
            "startTime": "2023-11-20T08:00:00Z",
            "endTime": "2023-11-21T08:00:00Z",
            "createTime": "2023-12-10T08:53:03.826732Z",
            "downloadUrl": "https://youtubereporting.googleapis.com/v1/media/CONTENT_OWNER/Jgrl-IYF1196ZxijRcZLXQ/jobs/4e055ed3-a7f3-41c8-b045-7a98b665bba6/reports/8462395405?alt=media"
        },
        {
            "id": "9588997823",
            "jobId": "4e055ed3-a7f3-41c8-b045-7a98b665bba6",
            "startTime": "2023-12-07T08:00:00Z",
            "endTime": "2023-12-08T08:00:00Z",
            "createTime": "2023-12-10T08:53:03.619333Z",
            "downloadUrl": "https://youtubereporting.googleapis.com/v1/media/CONTENT_OWNER/Jgrl-IYF1196ZxijRcZLXQ/jobs/4e055ed3-a7f3-41c8-b045-7a98b665bba6/reports/9588997823?alt=media"
        },
        {
            "id": "9589018637",
            "jobId": "4e055ed3-a7f3-41c8-b045-7a98b665bba6",
            "startTime": "2023-11-17T08:00:00Z",
            "endTime": "2023-11-18T08:00:00Z",
            "createTime": "2023-12-10T08:52:52.932496Z",
            "downloadUrl": "https://youtubereporting.googleapis.com/v1/media/CONTENT_OWNER/Jgrl-IYF1196ZxijRcZLXQ/jobs/4e055ed3-a7f3-41c8-b045-7a98b665bba6/reports/9589018637?alt=media"
        },
        {
            "id": "9588984521",
            "jobId": "4e055ed3-a7f3-41c8-b045-7a98b665bba6",
            "startTime": "2023-11-30T08:00:00Z",
            "endTime": "2023-12-01T08:00:00Z",
            "createTime": "2023-12-10T08:52:45.653382Z",
            "downloadUrl": "https://youtubereporting.googleapis.com/v1/media/CONTENT_OWNER/Jgrl-IYF1196ZxijRcZLXQ/jobs/4e055ed3-a7f3-41c8-b045-7a98b665bba6/reports/9588984521?alt=media"
        },
        {
            "id": "8462405801",
            "jobId": "4e055ed3-a7f3-41c8-b045-7a98b665bba6",
            "startTime": "2023-11-12T08:00:00Z",
            "endTime": "2023-11-13T08:00:00Z",
            "createTime": "2023-12-10T08:52:43.838325Z",
            "downloadUrl": "https://youtubereporting.googleapis.com/v1/media/CONTENT_OWNER/Jgrl-IYF1196ZxijRcZLXQ/jobs/4e055ed3-a7f3-41c8-b045-7a98b665bba6/reports/8462405801?alt=media"
        },
        {
            "id": "9588984232",
            "jobId": "4e055ed3-a7f3-41c8-b045-7a98b665bba6",
            "startTime": "2023-11-22T08:00:00Z",
            "endTime": "2023-11-23T08:00:00Z",
            "createTime": "2023-12-10T08:52:36.062403Z",
            "downloadUrl": "https://youtubereporting.googleapis.com/v1/media/CONTENT_OWNER/Jgrl-IYF1196ZxijRcZLXQ/jobs/4e055ed3-a7f3-41c8-b045-7a98b665bba6/reports/9588984232?alt=media"
        },
        {
            "id": "9589007777",
            "jobId": "4e055ed3-a7f3-41c8-b045-7a98b665bba6",
            "startTime": "2023-11-19T08:00:00Z",
            "endTime": "2023-11-20T08:00:00Z",
            "createTime": "2023-12-10T08:52:12.949840Z",
            "downloadUrl": "https://youtubereporting.googleapis.com/v1/media/CONTENT_OWNER/Jgrl-IYF1196ZxijRcZLXQ/jobs/4e055ed3-a7f3-41c8-b045-7a98b665bba6/reports/9589007777?alt=media"
        },
        {
            "id": "9588977305",
            "jobId": "4e055ed3-a7f3-41c8-b045-7a98b665bba6",
            "startTime": "2023-11-10T08:00:00Z",
            "endTime": "2023-11-11T08:00:00Z",
            "createTime": "2023-12-10T08:52:08.611056Z",
            "downloadUrl": "https://youtubereporting.googleapis.com/v1/media/CONTENT_OWNER/Jgrl-IYF1196ZxijRcZLXQ/jobs/4e055ed3-a7f3-41c8-b045-7a98b665bba6/reports/9588977305?alt=media"
        },
        {
            "id": "9588977264",
            "jobId": "4e055ed3-a7f3-41c8-b045-7a98b665bba6",
            "startTime": "2023-11-24T08:00:00Z",
            "endTime": "2023-11-25T08:00:00Z",
            "createTime": "2023-12-10T08:52:07.429261Z",
            "downloadUrl": "https://youtubereporting.googleapis.com/v1/media/CONTENT_OWNER/Jgrl-IYF1196ZxijRcZLXQ/jobs/4e055ed3-a7f3-41c8-b045-7a98b665bba6/reports/9588977264?alt=media"
        },
        {
            "id": "9588995904",
            "jobId": "4e055ed3-a7f3-41c8-b045-7a98b665bba6",
            "startTime": "2023-11-23T08:00:00Z",
            "endTime": "2023-11-24T08:00:00Z",
            "createTime": "2023-12-10T08:52:05.502240Z",
            "downloadUrl": "https://youtubereporting.googleapis.com/v1/media/CONTENT_OWNER/Jgrl-IYF1196ZxijRcZLXQ/jobs/4e055ed3-a7f3-41c8-b045-7a98b665bba6/reports/9588995904?alt=media"
        },
        {
            "id": "9588983249",
            "jobId": "4e055ed3-a7f3-41c8-b045-7a98b665bba6",
            "startTime": "2023-11-13T08:00:00Z",
            "endTime": "2023-11-14T08:00:00Z",
            "createTime": "2023-12-10T08:52:03.183289Z",
            "downloadUrl": "https://youtubereporting.googleapis.com/v1/media/CONTENT_OWNER/Jgrl-IYF1196ZxijRcZLXQ/jobs/4e055ed3-a7f3-41c8-b045-7a98b665bba6/reports/9588983249?alt=media"
        },
        {
            "id": "9588982607",
            "jobId": "4e055ed3-a7f3-41c8-b045-7a98b665bba6",
            "startTime": "2023-11-11T08:00:00Z",
            "endTime": "2023-11-12T08:00:00Z",
            "createTime": "2023-12-10T08:51:28.828087Z",
            "downloadUrl": "https://youtubereporting.googleapis.com/v1/media/CONTENT_OWNER/Jgrl-IYF1196ZxijRcZLXQ/jobs/4e055ed3-a7f3-41c8-b045-7a98b665bba6/reports/9588982607?alt=media"
        },
        {
            "id": "9588976522",
            "jobId": "4e055ed3-a7f3-41c8-b045-7a98b665bba6",
            "startTime": "2023-12-01T08:00:00Z",
            "endTime": "2023-12-02T08:00:00Z",
            "createTime": "2023-12-10T08:51:13.723190Z",
            "downloadUrl": "https://youtubereporting.googleapis.com/v1/media/CONTENT_OWNER/Jgrl-IYF1196ZxijRcZLXQ/jobs/4e055ed3-a7f3-41c8-b045-7a98b665bba6/reports/9588976522?alt=media"
        },
        {
            "id": "8462251280",
            "jobId": "4e055ed3-a7f3-41c8-b045-7a98b665bba6",
            "startTime": "2023-12-08T08:00:00Z",
            "endTime": "2023-12-09T08:00:00Z",
            "createTime": "2023-12-10T07:08:00.227068Z",
            "downloadUrl": "https://youtubereporting.googleapis.com/v1/media/CONTENT_OWNER/Jgrl-IYF1196ZxijRcZLXQ/jobs/4e055ed3-a7f3-41c8-b045-7a98b665bba6/reports/8462251280?alt=media"
        }
    ]

console.log(res.length);



res.sort((a, b) => {
    const dateA = new Date(a.startTime);
    const dateB = new Date(b.startTime);
    return dateA - dateB;
  });

console.log(res);


let lol = {
    "reportTypes": [
        {
            "id": "content_owner_ad_rates_a1",
            "name": "Ad rates"
        },
        {
            "id": "content_owner_annotations_a1",
            "name": "Annotations"
        },
        {
            "id": "content_owner_asset_annotations_a1",
            "name": "Asset annotations"
        },
        {
            "id": "content_owner_asset_basic_a2",
            "name": "Asset user activity"
        },
        {
            "id": "content_owner_asset_cards_a1",
            "name": "Asset cards"
        },
        {
            "id": "content_owner_asset_combined_a2",
            "name": "Asset combined"
        },
        {
            "id": "content_owner_asset_demographics_a1",
            "name": "Asset demographics"
        },
        {
            "id": "content_owner_asset_device_os_a2",
            "name": "Asset device and OS"
        },
        {
            "id": "content_owner_asset_end_screens_a1",
            "name": "Asset end screens"
        },
        {
            "id": "content_owner_asset_estimated_revenue_a1",
            "name": "Assets estimated revenue"
        },
        {
            "id": "content_owner_asset_playback_location_a2",
            "name": "Asset playback locations"
        },
        {
            "id": "content_owner_asset_province_a2",
            "name": "Asset province"
        },
        {
            "id": "content_owner_asset_sharing_service_a1",
            "name": "Asset sharing service"
        },
        {
            "id": "content_owner_asset_traffic_source_a2",
            "name": "Asset traffic sources"
        },
        {
            "id": "content_owner_basic_a3",
            "name": "User activity"
        },
        {
            "id": "content_owner_cards_a1",
            "name": "Cards"
        },
        {
            "id": "content_owner_combined_a2",
            "name": "Combined"
        },
        {
            "id": "content_owner_demographics_a1",
            "name": "Demographics"
        },
        {
            "id": "content_owner_device_os_a2",
            "name": "Device and OS"
        },
        {
            "id": "content_owner_end_screens_a1",
            "name": "End screens"
        },
        {
            "id": "content_owner_estimated_revenue_a1",
            "name": "Estimated revenue"
        },
        {
            "id": "content_owner_playback_location_a2",
            "name": "Playback locations"
        },
        {
            "id": "content_owner_playlist_basic_a1",
            "name": "Playlist user activity"
        },
        {
            "id": "content_owner_playlist_combined_a1",
            "name": "Playlist combined"
        },
        {
            "id": "content_owner_playlist_device_os_a1",
            "name": "Playlist device and OS"
        },
        {
            "id": "content_owner_playlist_playback_location_a1",
            "name": "Playlist playback locations"
        },
        {
            "id": "content_owner_playlist_province_a1",
            "name": "Playlist province"
        },
        {
            "id": "content_owner_playlist_traffic_source_a1",
            "name": "Playlist traffic sources"
        },
        {
            "id": "content_owner_province_a2",
            "name": "Province"
        },
        {
            "id": "content_owner_sharing_service_a1",
            "name": "Sharing service"
        },
        {
            "id": "content_owner_subtitles_a2",
            "name": "Subtitles"
        },
        {
            "id": "content_owner_traffic_source_a2",
            "name": "Traffic sources"
        }
    ]
}




// Require necessary modules
const express = require('express');
const fs = require('fs');
const readline = require('readline');
const { google } = require('googleapis');

const app = express();

// Define the route to fetch YouTube analytics data
app.get('/youtube-analytics', (req, res) => {
  const scope = ['https://www.googleapis.com/auth/youtube.readonly'];

  // Load client secrets from a local file
  fs.readFile('YOUR_CLIENT_SECRET_FILE.json', (err, content) => {
    if (err) {
      return res.status(500).json({ error: 'Cannot load client secret file' });
    }

    // Authorize a client with credentials, then make API call
    const credentials = JSON.parse(content);
    const { client_secret, client_id, redirect_uris } = credentials.installed;
    const oAuth2Client = new google.auth.OAuth2(
      client_id,
      client_secret,
      redirect_uris[0]
    );

    const authUrl = oAuth2Client.generateAuthUrl({
      access_type: 'offline',
      scope: scope,
    });

    // Simulate handling the auth code - Replace this with your actual flow
    const mockAuthCode = 'YOUR_AUTHORIZATION_CODE';

    oAuth2Client.getToken(mockAuthCode, (err, token) => {
      if (err) {
        return res.status(500).json({ error: 'Failed to get token' });
      }

      oAuth2Client.setCredentials(token);

      const youtubeAnalytics = google.youtubeAnalytics({
        version: 'v2',
        auth: oAuth2Client,
      })

      youtubeAnalytics.reports
        .query({
          dimensions: 'day',
          endDate: '2022-06-30',
          filters: 'claimedStatus==claimed',
          ids: 'contentOwner==CONTENT_OWNER_ID',
          includeHistoricalChannelData: true,
          metrics:'views,estimatedRevenue,estimatedAdRevenue,estimatedRedPartnerRevenue,grossRevenue,adImpressions,cpm,playbackBasedCpm,monetizedPlaybacks',
          startDate: '2022-01-01',
        })
        .then((data) => res.json(data.data))
        .catch((error) =>
          res.status(500).json({ error: 'The API returned an error', details: error.errors })
        );
    });
  });
});

// Start the server
const PORT = process.env.PORT || 3000;
app.listen(PORT, () => {
  console.log(`Server is running on port ${PORT}`);
});